<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>version2</title>
    <script src="miw%20V%2018%2011%202019.js"></script>

</head>
<body>


<script>
    let temp = [{"mois":"Janvier","tp":[2,1,5,2,10,-10,11,2,1,0,5,2,2,10,5,2,2,0,-2,1,2,0,5,-8,0,5,2,2,10,5,2]}, {"mois":"Février","tp":[2,0,5,2,10,10,5,-2,-2,10,5,2,2,8,5,10,12,10,5,10,10,10,11,8,10,5,10,10]}, {"mois":"Mars","tp":[2,1,5,1,12,10,5,1,12,10,5,1,2,10,1,1,12,10,15,12,12,10,15,12,10,15,12,12,10,15,12]}, {"mois":"Avril","tp":[1,1,5,1,10,10,9,12,9,10,9,12,2,10,15,12,12,10,15,12,12,10,15,12,10,15,12,12,10,15]}, {"mois":"Mai","tp":[12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,10,15,12,12,10,15,12]}, {"mois":"Juin","tp":[12,10,25,12,22,20,15,12,12,10,15,12,12,10,25,12,22,20,25,12,22,22,15,12,10,15,12,12,10,15]}, {"mois":"Juillet","tp":[22,30,25,22,22,30,25,22,22,30,35,32,32,30,25,22,22,30,25,22,22,30,25,22,30,25,32,32,20,25,22]}, {"mois":"Aout","tp":[23,31,26,23,23,29,24,21,21,31,31,30,30,30,24,22,23,30,28,22,22,30,28,22,31,25,30,28,20,28,22]}, {"mois":"Septembre","tp":[22,30,25,22,22,30,25,22,22,30,35,32,32,30,25,22,22,30,25,22,22,30,25,22,30,25,32,32,20,25]}, {"mois":"Octobre","tp":[12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,10,15,12,12,10,15,12]}, {"mois":"Novembre","tp":[12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,10,15,12,12,10,15]}, {"mois":"Décembre","tp":[12,10,12,10,12,10,12,10,10,8,12,8,12,8,9,13,12,13,14,12,10,8,10,9,10,9,8,9,10,8,12]}]

    display(temp);
    /**
     * affichage dans la console Mois: Janvier    témpératures:   Minimum -10  Maximum 11  Moyenne 2.45
     * @param temp
     */
    function display(temp){
        d=document;
        //création de la table
        let node=d.getElementsByTagName('body')[0];
        let element= d.createElement("table");
        node.appendChild(element)
        //intialisation de la table
        let table = d.getElementsByTagName("table")[0]
        let tr = d.createElement("tr");
        addLotOfNewsCasesTo(tr,["Mois","Minimum","Maximum","Moyenne"])
        table.appendChild(tr);

        //récuère les valeurs
        for(let mois in temp){
            if(temp[mois].tp!=undefined) {
                let tr = d.createElement("tr");

                let date = temp[mois].mois
                let max = temp[mois].tp.max();
                let min = temp[mois].tp.min();
                let avg = temp[mois].tp.avg();

                addLotOfNewsCasesTo(tr,[date,min,max,avg])
                table.appendChild(tr);
            }
        }
    }

    function addNewCaseTo(destination,text) {
        if(text!=undefined) {
            let td = d.createElement("td");
            let text_stock = d.createTextNode(text);
            td.appendChild(text_stock)
            destination.appendChild(td)
        }
    }

    function addLotOfNewsCasesTo(destination,texts) {
        for(let i =0; i<texts.length; i++){
            addNewCaseTo(destination,texts[i])
        }
    }



</script>

</body>
</html>