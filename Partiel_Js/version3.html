<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>version3</title>
    <script src="miw%20V%2018%2011%202019.js"></script>
    <script src="Releve.js"></script>

</head>
<body>


<script>
    let temp = [{"mois":"Janvier","tp":[2,1,5,2,10,-10,11,2,1,0,5,2,2,10,5,2,2,0,-2,1,2,0,5,-8,0,5,2,2,10,5,2]}, {"mois":"Février","tp":[2,0,5,2,10,10,5,-2,-2,10,5,2,2,8,5,10,12,10,5,10,10,10,11,8,10,5,10,10]}, {"mois":"Mars","tp":[2,1,5,1,12,10,5,1,12,10,5,1,2,10,1,1,12,10,15,12,12,10,15,12,10,15,12,12,10,15,12]}, {"mois":"Avril","tp":[1,1,5,1,10,10,9,12,9,10,9,12,2,10,15,12,12,10,15,12,12,10,15,12,10,15,12,12,10,15]}, {"mois":"Mai","tp":[12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,10,15,12,12,10,15,12]}, {"mois":"Juin","tp":[12,10,25,12,22,20,15,12,12,10,15,12,12,10,25,12,22,20,25,12,22,22,15,12,10,15,12,12,10,15]}, {"mois":"Juillet","tp":[22,30,25,22,22,30,25,22,22,30,35,32,32,30,25,22,22,30,25,22,22,30,25,22,30,25,32,32,20,25,22]}, {"mois":"Aout","tp":[23,31,26,23,23,29,24,21,21,31,31,30,30,30,24,22,23,30,28,22,22,30,28,22,31,25,30,28,20,28,22]}, {"mois":"Septembre","tp":[22,30,25,22,22,30,25,22,22,30,35,32,32,30,25,22,22,30,25,22,22,30,25,22,30,25,32,32,20,25]}, {"mois":"Octobre","tp":[12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,10,15,12,12,10,15,12]}, {"mois":"Novembre","tp":[12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,12,10,15,12,10,15,12,12,10,15]}, {"mois":"Décembre","tp":[12,10,12,10,12,10,12,10,10,8,12,8,12,8,9,13,12,13,14,12,10,8,10,9,10,9,8,9,10,8,12]}]
    let node =document.getElementsByTagName('body')[0];
    let releve = new Releve(temp[0],node)
    releve.display();
    colorBackground();

    info()


    function colorBackground() {

        for(let i=0; i<document.getElementsByClassName("event").length; i++) {
            let tr = document.getElementsByClassName("event")[i];

            // ce gestionnaire sera exécuté une seule fois lorsque le curseur passera au dessus de la liste non ordonnée
            tr.addEventListener("mouseover", function (event) {
                tr.style.background = "green";
            }, false)
            tr.addEventListener("mouseout", function (event) {
                tr.style.background = "grey";
            }, false)
        }
    }

    function info() {
        for(let i=0; i<document.getElementsByClassName("event").length; i++) {
            let tr = document.getElementsByClassName("event")[i];

            // ce gestionnaire sera exécuté une seule fois lorsque le curseur passera au dessus de la liste non ordonnée
            tr.addEventListener("click", function (event) {
                for(let j=0; j< tr.getElementsByClassName("info").length; j++) {
                    if(tr.getElementsByClassName("info")[j].style.display == "none")
                        tr.getElementsByClassName("info")[j].style.display = "unset";
                    else
                        tr.getElementsByClassName("info")[j].style.display = "none";
                    console.log( "on affiche")
                }
            }, false)
        }

    }

    function fold() {
        for(let i=0; i<document.getElementsByClassName("event").length; i++) {
            let tr = document.getElementsByClassName("event")[i];

            // ce gestionnaire sera exécuté une seule fois lorsque le curseur passera au dessus de la liste non ordonnée
            tr.addEventListener("click", function (event) {
                for(let j=0; j< tr.getElementsByClassName("info").length; j++) {
                    tr.getElementsByClassName("info")[j].style.display = "unset";
                    console.log( "on affiche")
                }
            }, false)
        }
    }

    /**
     * Prévoir le cas ou l'on clique pour selectionner le bon
     */
    function unfold() {
        for(let i=0; i<document.getElementsByClassName("event").length; i++) {
            let tr = document.getElementsByClassName("event")[i];

            // ce gestionnaire sera exécuté une seule fois lorsque le curseur passera au dessus de la liste non ordonnée
            tr.addEventListener("click", function (event) {

                for(let j=0; j< tr.getElementsByClassName("info").length; j++) {
                    tr.getElementsByClassName("info")[j].style.display = "none";
                    console.log("on cache")
                }
            }, false)
        }



    }

</script>

</body>
</html>